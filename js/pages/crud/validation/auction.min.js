"use strict";Date.prototype.addDays=function(t){var e=new Date(this.valueOf());return e.setDate(e.getDate()+t),e},RTUtil.ready((function(){let t=RTUtil.getById("addBuyItNow");t&&RTUtil.addEvent(t,"click",(function(){t.checked?RTUtil.show("addBuyItNowField"):t.checked||(RTUtil.hide("addBuyItNowField"),RTUtil.getById("BuyItNowPrice").value="0")}))}));var RTAuction={stopWatchingAuction:function(t){var e;e=t,RTUtil.ajaxGet("/auction/stopwatchingget?listedPlateId="+encodeURIComponent(e),(function(t){if(t){let t=RTUtil.getById(e);t.innerHTML='<svg class="svg-13 svg-dark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z" /></svg> Watch',RTUtil.attr(t,"href","javascript:RTAuction.CurrentWatchPlate('"+e+"')")}}))},CurrentWatchPlate:function(t){!function(t){let e,r={ListedPlatesId:t};e=JSON.stringify(r),RTUtil.ajaxPost("/auction/watchplate",e,(function(e){let r=RTUtil.getById(t);r.innerHTML='<svg class="svg-13 svg-dark mt--1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z" /></svg> Unwatch',RTUtil.attr(r,"href","javascript:RTAuction.stopWatchingAuction('"+t+"')")}))}(t)},WatchPlate:function(t){var e,r,i;i={ListedPlatesId:e=t},r=JSON.stringify(i),RTUtil.ajaxPost("/auction/watchplate",r,(function(t){let r=RTUtil.getById(e);RTUtil.attr(r,"href","/auction/auction-activity"),RTUtil.removeClass(r,"bid-btn btn-secondary watch-btn"),RTUtil.addClass(r,"bid-btn btn-success watch-btn"),r.innerHTML="Watching";let i=RTUtil.getById(e+"-secondButton");i&&(RTUtil.attr(w2p,"href","/auction/auction-activity"),RTUtil.removeClass(i,"bid-btn btn-secondary watch-btn"),RTUtil.addClass(i,"bid-btn btn-success watch-btn"))}))},showExistingReg:function(){RTUtil.getById("NewRegistration").value="",RTUtil.hide("vatnewquotation"),RTUtil.show("existingregistration"),RTUtil.hide("newquotation")},listAnotherReg:function(){RTUtil.show("newquotation"),RTUtil.show("vatnewquotation"),RTUtil.hide("existingregistration")},ClearDate:function(){var t;(t=document.forms.frmSell)&&("C"===t.location.value||"D"===t.location.value?RTUtil.getById("certexpirydaterow").style.display="block":(t.ExpiryDate.value="",document.getElementById("certexpirydaterow").style.display="none",RTUtil.emptyAndHide("ErrorExpiryDate")))},auctionShowError:function(t,e){!function(t,e){""===e?e="divErrOther":"#"===e.substring(0,1)&&(e=e.substring(1));var r=RTUtil.getById(e);r.innerHTML=t,RTUtil.show(r);let i=RTUtil.getById("btnsubmit");i.disabled=!0,i.title="Please correct the errors above"}(t,e)},clearAuctionError:function(){!function(){let t=RTUtil.getById("btnsubmit");t.disabled=!1,t.title="Please correct the errors above"}()}};function isValidDateTime(t,e,r,i,a,o,n){var c=Date.parse(t),l=new Date;return isNaN(c)?"0":c<l?"-1":o>-1&&c>l.addDays(o)?"2":"1"}function checkPrices(t){RTUtil.emptyAndHide("ErrorReserve"),RTUtil.emptyAndHide("ErrorStartingPrice"),RTUtil.emptyAndHide("ErrorBuyItNow");var e=RTUtil.getById("frmSell"),r=0,i=0,a=0;""!==e.BuyItNowPrice.value&&(r=parseFloat(e.BuyItNowPrice.value));var o=!1;return!1===document.getElementById("addBuyItNow").checked?(r=0,RTUtil.emptyAndHide("ErrorBuyItNowPrice")):o=!0,""!==e.Reserve.value&&(a=parseFloat(RTUtil.getById("Reserve").value)),""!==e.StartingPrice.value&&(i=parseFloat(RTUtil.getById("StartingPrice").value)),a<100&&("Reserve"===t||"all"===t)?(RTUtil.emptyAndHide("divErrOther"),RTAuction.auctionShowError("Your reserve price must be at least £100","#ErrorReserve"),RTUtil.getById("Reserve").focus(),!1):i<100&&i>0&&("StartingPrice"==t||"all"==t)?(RTUtil.emptyAndHide("divErrOther"),RTAuction.auctionShowError("Your starting price must be at least £100","#ErrorStartingPrice"),RTUtil.getById("StartingPrice").focus(),!1):r<100&&(r>0||!0===o)&&("BuyItNowPrice"===t||"all"===t)?(RTUtil.emptyAndHide("divErrOther"),RTAuction.auctionShowError("Your Buy-It-Now price must be at least £100","#ErrorBuyItNowPrice"),RTUtil.getById("BuyItNowPrice").focus(),!1):a<=i&&i>0&&a>0&&("Reserve"===t||"StartingPrice"===t||"all"===t)?("StartingPrice"===t||"all"===t?(RTUtil.emptyAndHide("divErrOther"),RTAuction.auctionShowError("Your reserve price must be higher than your starting price","#ErrorReserve"),RTUtil.getById("Reserve").focus()):(RTUtil.emptyAndHide("divErrOther"),RTAuction.auctionShowError("Your reserve price must be higher than your starting price","#ErrorStartingPrice"),RTUtil.getById("StartingPrice").focus()),!1):r<=a&&a>0&&(r>0||!0===o)&&("Reserve"===t||"BuyItNowPrice"===t||"all"===t)?("Reserve"===t||"all"===t?(RTUtil.emptyAndHide("divErrOther"),RTAuction.auctionShowError("Your Buy-It-Now price must be higher than your reserve price","#ErrorBuyItNowPrice"),RTUtil.getById("BuyItNowPrice").focus()):(RTUtil.emptyAndHide("divErrOther"),RTAuction.auctionShowError("Your Buy-It-Now price must be higher than your reserve price","#ErrorReserve"),RTUtil.getById("Reserve").focus()),!1):!(r<=i&&i>0&&(r>0||!0===o))||"BuyItNowPrice"!==t&&"StartingPrice"!==t&&"all"!==t||("StartingPrice"===t||"all"===t?(RTUtil.emptyAndHide("divErrOther"),RTAuction.auctionShowError("Your Buy-It-Now price must be higher than your starting price","#ErrorBuyItNowPrice"),RTUtil.getById("BuyItNowPrice").focus()):(RTUtil.emptyAndHide("divErrOther"),RTAuction.auctionShowError("Your Buy-It-Now price must be higher than your starting price","#ErrorStartingPrice"),RTUtil.getById("StartingPrice").focus()),!1)}RTUtil.ready((function(){if(RTUtil.getById("frmSell")){RTAuction.ClearDate()}}));